<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Área del triángulo con Formulario de entrada</title>
    <!-- enlace al estilo bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
  <div id="wrapper" class="col-sm-10 col-md-8 col-lg-6 mx-auto mt-5">
    <!-- formulario de entrada de datos para calcular el area del triángulo-->
    <form class="border border-primary p-3" onsubmit="return validarNumber(document.getElementById('altura'), document.getElementById('base'))">

        <h1 >Calculo áreas de triángulo</h1>
        
        <div class="form-group">
          <label for="base">Introduce la base</label>
          <input type="text" class="form-control" id="base" aria-describedby="baseHelp">
          <small id="baseHelp" class="form-text text-danger"></small>
        </div>
        <div class="form-group">
          <label for="altura">Introduce la altura</label>
          <input type="text" class="form-control" id="altura" aria-describedby="alturaHelp">
          <small id="alturaHelp" class="form-text text-danger"></small>
        </div>
        <button type="submit" class="btn btn-primary">Calcular</button>
      </form>

      <h2 id="resultado" class="mt-4"></h2>

    </div>

    <!-- librerias js de bootstrap -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
 
    <!-- comienza mi script de cálculo del área del triángulo-->
    <script>
      ////// AREA DEL TRIÁNGULO -- EJERCICIO N1 DE LA RELACIÓN

function areaTriangulo(a, b){

    // área de declaraciones
    var base= a;
    var altura = b;
    var area; // vble que contendrá el resultado del área
    var correcto=true; // flag que indica si todos los datos de entrada son correcto

    // vamos a validar la base
    // ATENCIÓN: LA FUNCIÓN DEBERÍA HACER SÓLAMENTE EL CÁLCULO
    // UNA FUNCIÓN SÓLO DEBE HACER UNA ÚNICA COSA
    // LA VALIDACIÓN DEBERÍA ESTAR EN OTRA FUNCIÓN Y ENCADENARLAS LAS DOS
    // vamos a utilizar una técnica de programación llamada FLAG

    /*
    if (isNaN(base)){
      document.getElementById("baseHelp").innerHTML="Debes introducir un número";
      document.getElementById("base").style.borderColor="red";
      correcto=false;
    }
    
    if (isNaN(altura)){
      document.getElementById("alturaHelp").innerHTML="Debes introducir un número";
      document.getElementById("altura").style.borderColor="red";
      correcto=false;
    }
    */

    // AL FINAL DE LOS TEST DE VALIDACIÓN SE COMPRUEBA SI HA SALTADO ALGÚN ERROR
    // SI ES ASÍ SE DEVUELVE EL CONTROL, Y NO SE PASA DEL FORMULARIO
/*
    if (! correcto) {
      return false;
    }
*/
    // operaciones
    area = base*altura/2;
    //var suma=base+altura;

    // salida de resultados
    document.getElementById("resultado").innerHTML="Resultado del área: "+area;
    //alert("la suma es: "+suma);
    return false;
   }

   /// función que comprueba SI UN CAMPO ES NUMÉRICO FLOAT O NO 
   function validarNumber(nodo1, nodo2){
    quitarError(nodo1, nodo2); // compruebo si lo que hay en el campo NO ES UN NUMBER
    if (isNaN(nodo1.value) || nodo1.value === ""){  // nodo es el campo input entero con todas sus atributos y caract.
        var mensajeDebajo=nodo1.id+"Help";  // extraigo su id para elaborar el id del small que le acompaña
        document.getElementById(mensajeDebajo).innerHTML="Debes introducir un número";
        nodo1.style.borderColor="red"; //en el estilo del propio nodo, cambio el borde
        return false;
      } else if (isNaN(nodo2.value) || nodo2.value === "") {
        var mensajeDebajo=nodo2.id+"Help";  // extraigo su id para elaborar el id del small que le acompaña
        document.getElementById(mensajeDebajo).innerHTML="Debes introducir un número";
        nodo2.style.borderColor="red"; //en el estilo del propio nodo, cambio el borde 
        return false;
      } else {
      areaTriangulo(nodo1.value, nodo2.value);
      return false;
      }
    }

   /// función que quita el mensaje de error cuando rectifico un campo
   function quitarError(campo1, campo2){
      document.getElementById(campo1.id+'Help').innerHTML="";
      campo1.style.borderColor="gray";
      document.getElementById(campo2.id+'Help').innerHTML="";
      campo2.style.borderColor="gray";
   }
   /// FIN DE FUNCIONES DEL EJERCICIO ÁREA DE UN TRIÁNGULO DE LA RELACIÓN 1
    </script>
</body>
</html>